<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sashank | Thoughts</title>
  <link href="https://fonts.googleapis.com/css2?family=Bellefair&display=swap" rel="stylesheet">
  <style>
    :root{
      --ink:#111;
      --tint: rgba(255,255,255,0.65);
      --nav-h: 56px;
      --side-w: 340px;     /* sidebar width on desktop */
      --gap: 18px;
      --hairline: rgba(0,0,0,0.08);
      --sel: #111;
      --sel-bg: rgba(17,17,17,0.06);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:'Bellefair', Arial, sans-serif;
      color:var(--ink);
      background:#fff;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
      line-height:1.6;
    }

    /* Header (same style, gradient + blur) */
    .nav{
      position:fixed; top:0; left:0; right:0; height:var(--nav-h);
      display:flex; align-items:center; justify-content:space-between;
      padding:0 24px;
      background: linear-gradient(
        to right,
        rgba(255,255,255,0.85) 0%,
        rgba(255,255,255,0.35) 60%,
        rgba(255,255,255,0.00) 100%
      );
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index:10;
    }
    .brand{ font-size:22px; }
    .tabs{ display:flex; gap:18px; }
    .tabs a{
      text-decoration:none; color:var(--ink); font-size:18px; position:relative;
    }
    .tabs a::after{
      content:""; position:absolute; left:0; right:0; bottom:-2px; height:1px;
      background: currentColor; transform:scaleX(0);
      transform-origin:left; transition: transform .25s ease;
    }
    .tabs a:hover::after,
    .tabs a[aria-current="page"]::after{ transform:scaleX(1); }

    /* Two-pane shell */
    .shell{
      display:flex;
      gap:0;
      height:100vh;
      padding-top: var(--nav-h);
    }

    /* LEFT: titles list */
    .sidebar{
      width:var(--side-w);
      border-right:1px solid var(--hairline);
      padding: 12px 12px 12px 18px;
      overflow:auto;
      position:sticky;
      top:var(--nav-h);
      align-self:flex-start;
      height: calc(100vh - var(--nav-h));
    }
    .side-title{
      font-size:28px;
      margin: 10px 0 8px;
      letter-spacing:.01em;
    }
    .postlist{
      font-family: 'Bellefair';
      margin: 8px 0 0 0;
      padding: 0;
      list-style: none;
      display:flex;
      flex-direction:column;
      gap: 6px;
    }
    .postlist button{
      font-family: 'Bellefair';
      width:100%;
      text-align:left;
      background:transparent;
      border:none;
      padding: 10px 8px;
      border-radius:8px;
      cursor:pointer;
      font-size:18px;
      line-height:1.35;
    }
    .postlist button:hover{
      color: #9783a5;
    }
    .postlist button[aria-current="true"]{
      color: #70309e;
    }
    .post-meta{
      display:block;
      font-size:14px;
      opacity:.6;
      margin-top:2px;
    }

    /* RIGHT: content pane (fills remaining area) */
    .content{
      flex:1;
      min-width:0;
      height: calc(100vh - var(--nav-h));
      overflow:auto;
      padding: clamp(16px, 3vw, 28px) clamp(16px, 4vw, 64px) 72px;
      display:flex;
      flex-direction:column;
      gap: var(--gap);
    }
    .post-title{
      font-size:42px;
      line-height:1.15;
      margin: 6px 0 2px;
      font-weight:400;
      letter-spacing:.01em;
    }
    .post-date{
      font-size:16px;
      opacity:.6;
      margin-bottom: 16px;
    }
    .post-body{
      font-size:19px;
      max-width: 70ch; /* left-aligned readable width */
    }
    .post-body p{ margin: 0 0 14px; }
    .post-body h2{ font-size:28px; font-weight:400; margin: 26px 0 10px; }
    .post-body ul{ margin: 0 0 14px 1.2em; }

    /* Mobile: stack with list on top, content below */
    @media (max-width: 900px){
      :root{ --nav-h: 52px; --side-w: 100%; }
      .nav{ padding:0 16px; }
      .brand{ font-size:20px; }
      .tabs a{ font-size:17px; }

      .shell{ flex-direction:column; }
      .sidebar{
        width:100%;
        border-right:none;
        border-bottom:1px solid var(--hairline);
        height:auto;
        max-height: 38vh;
        position:static;
      }
      .content{
        height: calc(100vh - var(--nav-h) - 38vh);
      }
      .post-title{ font-size:34px; }
      .post-body{ font-size:18px; }
    }
    .brand a{ color:var(--ink); text-decoration:none; position:relative; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="nav">
    <div class="brand"><a href = "index.html">Sashank Balusu</a></div>
    <nav class="tabs">
      <a href="drone.html">Pictures</a>
      <a href="thoughts.html" aria-current="page">Thoughts</a>
    </nav>
  </header>

  <!-- Two-pane layout -->
  <div class="shell">
    <aside class="sidebar" aria-label="Posts">
      <div class="side-title">Random thoughts</div>
      <ul id="postlist" class="postlist"></ul>
    </aside>

    <main id="content" class="content" aria-live="polite">
      <!-- Filled by JS -->
    </main>
  </div>

  <script>
    // Your posts live here â€” add new ones to the array.
    // Most recent should have the latest date; we'll auto-select it.
    const posts = [
      {
        id: "xx",
        title: "xxxx",
        date: "2025-09-28",
        body: `
        `
      },
      {
        id: "xxx",
        title: "xxxx",
        date: "2025-09-28",
        body: `
        `
      }
    ];

    const postlistEl = document.getElementById('postlist');
    const contentEl = document.getElementById('content');

    // Sort by date descending, pick most recent by default
    const sorted = [...posts].sort((a,b)=> (a.date < b.date ? 1 : -1));

    function formatDate(iso){
      try {
        const d = new Date(iso + "T00:00:00");
        return d.toLocaleDateString(undefined, { year:'numeric', month:'short', day:'numeric' });
      } catch { return iso; }
    }

    function renderList(activeId){
      postlistEl.innerHTML = '';
      sorted.forEach(post=>{
        const li = document.createElement('li');
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.dataset.id = post.id;
        btn.setAttribute('aria-current', post.id === activeId ? 'true' : 'false');
        btn.innerHTML = `
          <div>${post.title}</div>
          <span class="post-meta">${formatDate(post.date)}</span>
        `;
        btn.addEventListener('click', ()=>{
          selectPost(post.id);
          // On mobile, scroll content pane into view
          if (window.matchMedia("(max-width: 900px)").matches) {
            contentEl.scrollIntoView({ behavior:'smooth', block:'start' });
          }
        });
        li.appendChild(btn);
        postlistEl.appendChild(li);
      });
    }

    function renderPost(post){
      contentEl.innerHTML = `
        <article>
          <h1 class="post-title">${post.title}</h1>
          <div class="post-date">${formatDate(post.date)}</div>
          <div class="post-body">${post.body}</div>
        </article>
      `;
      document.title = `Sashank | ${post.title}`;
    }

    function selectPost(id){
      const post = sorted.find(p=>p.id === id) || sorted[0];
      renderPost(post);
      renderList(post.id);
      // Update hash for deep-linking
      history.replaceState(null, "", `#${post.id}`);
    }

    // Initial load: use hash if present; otherwise most recent
    const initialId = location.hash ? location.hash.slice(1) : sorted[0]?.id;
    selectPost(initialId);

    // Allow arrow key navigation like chat
    document.addEventListener('keydown', (e)=>{
      const idx = sorted.findIndex(p=> `#${p.id}` === location.hash || p.id === (location.hash.slice(1) || initialId));
      if(e.key === 'ArrowUp' || e.key === 'ArrowLeft'){
        const prev = sorted[Math.min(Math.max(idx - 1, 0), sorted.length - 1)];
        selectPost(prev.id);
      }
      if(e.key === 'ArrowDown' || e.key === 'ArrowRight'){
        const next = sorted[Math.min(idx + 1, sorted.length - 1)];
        selectPost(next.id);
      }
    });
  </script>
</body>
</html>
